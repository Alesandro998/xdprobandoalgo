<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Examen de Preparación Redes - CCNA</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 800px; margin: auto; padding: 20px; padding-bottom: 100px; }
        h1 { color: #b30000; text-align: center; border-bottom: 2px solid #b30000; }
        h2 { color: #2c3e50; border-left: 5px solid #b30000; padding-left: 10px; margin-top: 30px; }
        .question { margin-bottom: 20px; background: #f9f9f9; padding: 15px; border-radius: 8px; }
        .options { list-style-type: none; padding-left: 0; }
        input[type="text"] { border: none; border-bottom: 1px solid #333; background: transparent; width: 150px; text-align: center; font-weight: bold; color: #b30000; }
        
        /* Estilo del Temporizador */
        #timer-container {
            position: fixed; top: 0; right: 0; background: #b30000; color: white;
            padding: 10px 20px; font-size: 20px; font-weight: bold; border-bottom-left-radius: 10px; z-index: 1000;
        }
        #btn-enviar {
            display: block; width: 200px; height: 50px; margin: 30px auto;
            background: #2c3e50; color: white; border: none; border-radius: 5px;
            font-size: 18px; cursor: pointer;
        }
        #btn-enviar:hover { background: #1a252f; }
        #resultado { text-align: center; font-size: 24px; font-weight: bold; color: #b30000; margin-top: 20px; display: none; }
    </style>
</head>
<body>

    <div id="timer-container">Tiempo: <span id="timer">10:00</span></div>

    <h1>Examen Teórico: Fundamentos de Conmutación y Enrutamiento</h1>

    <form id="quiz-form">
        <h2>Módulo 1: Configuración Básica y SSH</h2>
        <div class="question">
            <p>1. Para configurar el acceso remoto seguro (SSH), es obligatorio definir un nombre de dominio. El comando es: <br>
            <code>ip domain-name <input type="text" id="r1" placeholder="..."></code></p>
        </div>

        <div class="question">
            <p>2. ¿Cuál es el comando necesario para generar las llaves de cifrado RSA requeridas por SSH?</p>
            <ul class="options">
                <li><input type="radio" name="q2" value="a"> crypto key generate rsa</li>
                <li><input type="radio" name="q2" value="b"> service password-encryption</li>
                <li><input type="radio" name="q2" value="c"> ip ssh version 2</li>
            </ul>
        </div>

        <div class="question">
            <p>3. Complete: El comando <code>transport input ssh</code> se aplica dentro de las líneas <input type="text" id="r3" placeholder="... "> para restringir el acceso solo a conexiones seguras.</p>
        </div>

        <h2>Módulo 2: Conceptos de Switching</h2>
        <div class="question">
            <p>4. El switch crea una tabla de direcciones MAC, también conocida como tabla <input type="text" id="r4" placeholder="Siglas"> (Content Addressable Memory).</p>
        </div>

        <div class="question">
            <p>5. ¿Qué método de reenvío de tramas comprueba el error mediante el campo FCS (CRC) antes de enviar?</p>
            <ul class="options">
                <li><input type="radio" name="q5" value="a"> Cut-Through</li>
                <li><input type="radio" name="q5" value="b"> Fragment-Free</li>
                <li><input type="radio" name="q5" value="c"> Store-and-Forward (Almacenamiento y reenvío)</li>
            </ul>
        </div>

        <div class="question">
            <p>6. Si un switch recibe una trama y la MAC de destino NO está en su tabla, el proceso se llama: <input type="text" id="r6" placeholder="Nombre en inglés"></p>
        </div>

        <h2>Módulo 3 y 4: VLANs y Troncales</h2>
        <div class="question">
            <p>7. El estándar de la industria para el etiquetado de tramas en enlaces troncales es el <input type="text" id="r7" placeholder="Estándar IEEE">.</p>
        </div>

        <div class="question">
            <p>8. Un puerto de switch que pertenece a una sola VLAN se configura en modo: <input type="text" id="r8" placeholder="Modo de puerto">.</p>
        </div>

        <div class="question">
            <p>9. En el método "Router-on-a-Stick", se deben crear <input type="text" id="r9" placeholder="..."> lógicas en la interfaz física del router.</p>
        </div>

        <div class="question">
            <p>10. ¿Cuál es la VLAN predeterminada, nativa y de administración en un switch Cisco?</p>
            <ul class="options">
                <li><input type="radio" name="q10" value="a"> VLAN 10</li>
                <li><input type="radio" name="q10" value="b"> VLAN 99</li>
                <li><input type="radio" name="q10" value="c"> VLAN 1</li>
            </ul>
        </div>

        <h2>Módulo 5: STP (Spanning Tree Protocol)</h2>
        <div class="question">
            <p>11. ¿Cuál es el objetivo principal del protocolo STP?</p>
            <ul class="options">
                <li><input type="radio" name="q11" value="a"> Aumentar el ancho de banda.</li>
                <li><input type="radio" name="q11" value="b"> Evitar bucles de Capa 2 en topologías redundantes.</li>
                <li><input type="radio" name="q11" value="c"> Cifrar el tráfico de administración.</li>
            </ul>
        </div>

        <div class="question">
            <p>12. ¿Cómo se elige el "Root Bridge" en STP?</p>
            <ul class="options">
                <li><input type="radio" name="q12" value="a"> El switch con la IP más alta.</li>
                <li><input type="radio" name="q12" value="b"> El switch con el Bridge ID más bajo.</li>
                <li><input type="radio" name="q12" value="c"> El switch con más puertos activos.</li>
            </ul>
        </div>

        <div class="question">
            <p>13. ¿En qué estado de puerto de STP el puerto no reenvía datos pero escucha BPDUs?</p>
            <ul class="options">
                <li><input type="radio" name="q13" value="a"> Forwarding</li>
                <li><input type="radio" name="q13" value="b"> Blocking (Bloqueo)</li>
                <li><input type="radio" name="q13" value="c"> Disabled</li>
            </ul>
        </div>

        <h2>Módulo 6: EtherChannel</h2>
        <div class="question">
            <p>14. ¿Qué beneficio principal ofrece EtherChannel?</p>
            <ul class="options">
                <li><input type="radio" name="q14" value="a"> Agrupar enlaces físicos para mayor ancho de banda y redundancia.</li>
                <li><input type="radio" name="q14" value="b"> Asigna IPs automáticamente.</li>
                <li><input type="radio" name="q14" value="c"> Evita accesos no autorizados.</li>
            </ul>
        </div>

        <div class="question">
            <p>15. ¿Protocolo propietario de Cisco para EtherChannel?</p>
            <ul class="options">
                <li><input type="radio" name="q15" value="a"> LACP (IEEE 802.3ad)</li>
                <li><input type="radio" name="q15" value="b"> PAgP</li>
                <li><input type="radio" name="q15" value="c"> STP</li>
            </ul>
        </div>

        <div class="question">
            <p>16. Si un extremo está en modo "Auto" (PAgP), el otro debe estar en:</p>
            <ul class="options">
                <li><input type="radio" name="q16" value="a"> Auto</li>
                <li><input type="radio" name="q16" value="b"> Desirable</li>
                <li><input type="radio" name="q16" value="c"> Passive</li>
            </ul>
        </div>

        <div class="question">
            <p>17. ¿Máximo de enlaces físicos en un EtherChannel Cisco?</p>
            <ul class="options">
                <li><input type="radio" name="q17" value="a"> 2</li>
                <li><input type="radio" name="q17" value="b"> 4</li>
                <li><input type="radio" name="q17" value="c"> 8</li>
            </ul>
        </div>

        <button type="button" id="btn-enviar" onclick="calificar()">Finalizar Examen</button>
    </form>

    <div id="resultado"></div>

    <script>
        // Configuración del Temporizador (10 minutos)
        let tiempoRestante = 10 * 60; 
        const display = document.querySelector('#timer');
        
        const countdown = setInterval(() => {
            let minutos = Math.floor(tiempoRestante / 60);
            let segundos = tiempoRestante % 60;
            segundos = segundos < 10 ? '0' + segundos : segundos;
            display.textContent = `${minutos}:${segundos}`;

            if (tiempoRestante <= 0) {
                clearInterval(countdown);
                alert("¡El tiempo se ha agotado!");
                calificar();
            }
            tiempoRestante--;
        }, 1000);

        function calificar() {
            clearInterval(countdown);
            let nota = 0;
            
            // Respuestas Correctas
            // Nota: Se usa .toLowerCase().trim() para que no importe mayúsculas o espacios extra
            if (document.getElementById('r1').value.toLowerCase().trim() !== "") nota += 1; // IP domain-name
            if (document.querySelector('input[name="q2"]:checked')?.value === "a") nota += 1;
            if (document.getElementById('r3').value.toLowerCase().trim().includes("vty")) nota += 1;
            if (document.getElementById('r4').value.toLowerCase().trim() === "cam") nota += 1;
            if (document.querySelector('input[name="q5"]:checked')?.value === "c") nota += 1;
            if (document.getElementById('r6').value.toLowerCase().trim().includes("flooding")) nota += 1;
            if (document.getElementById('r7').value.toLowerCase().trim().includes("802.1q")) nota += 1;
            if (document.getElementById('r8').value.toLowerCase().trim().includes("access")) nota += 1;
            if (document.getElementById('r9').value.toLowerCase().trim().includes("subinterf")) nota += 1;
            if (document.querySelector('input[name="q10"]:checked')?.value === "c") nota += 1;
            if (document.querySelector('input[name="q11"]:checked')?.value === "b") nota += 1;
            if (document.querySelector('input[name="q12"]:checked')?.value === "b") nota += 1;
            if (document.querySelector('input[name="q13"]:checked')?.value === "b") nota += 1;
            if (document.querySelector('input[name="q14"]:checked')?.value === "a") nota += 1;
            if (document.querySelector('input[name="q15"]:checked')?.value === "b") nota += 1;
            if (document.querySelector('input[name="q16"]:checked')?.value === "b") nota += 1;
            if (document.querySelector('input[name="q17"]:checked')?.value === "c") nota += 1;

            // Mostrar Nota
            const resDiv = document.getElementById('resultado');
            resDiv.style.display = "block";
            resDiv.innerHTML = `Tu nota final es: ${nota} / 17`;
            
            // Deshabilitar formulario
            const inputs = document.getElementsByTagName('input');
            for(let i=0; i<inputs.length; i++) inputs[i].disabled = true;
            document.getElementById('btn-enviar').disabled = true;
            
            window.scrollTo(0, document.body.scrollHeight);
        }
    </script>
</body>
</html>